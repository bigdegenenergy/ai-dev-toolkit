# ⚠️ REVIEW INSTRUCTIONS

> **DELETE THIS FILE** after reading and addressing the issues.
> This file was generated by the Review Agent (Gemini).

## Workflow

1. Read the issues below
2. Fix the code
3. **DELETE this file** (`git rm REVIEW_INSTRUCTIONS.md`)
4. Commit with `Agent-Note:` trailer explaining your fixes

## Example Commit

```
fix: address review feedback

Agent-Note: Fixed SQL injection in auth.ts by using parameterized queries.
```

---

## Issues to Address

```toml
[review]
summary = "The proposed workflow changes introduce a critical CI failure mode for forks and reference a non-existent Gemini model version. The shift to committing ephemeral instructions to the branch is also risky."
decision = "REQUEST_CHANGES"

[[issues]]
severity = "critical"
file = ".github/workflows/gemini-pr-review-plus.yml"
title = "Invalid Gemini model version"
description = "The Agent Note claims the model was updated to `gemini-3-pro-preview`. This model version does not exist (current versions are 1.5 or 2.0-flash-exp). This will result in a 400/404 API error."
suggestion = "Use a valid model string, such as `gemini-1.5-pro-latest`."

[[issues]]
severity = "important"
file = ".github/workflows/gemini-pr-review-plus.yml"
title = "Workflow failure on forks due to write permissions"
description = "Granting `contents: write` and attempting to push changes (the instructions file) back to the branch will fail for PRs originating from forks, as the `GITHUB_TOKEN` is read-only in that context."
suggestion = "Remove the requirement to push files to the branch. Use PR comments for instructions, or restricted the push step to only run on internal branches."

[[issues]]
severity = "important"
file = ".github/workflows/gemini-pr-review-plus.yml"
title = "Pollution of git history with ephemeral files"
description = "Committing `REVIEW_INSTRUCTIONS.md` to the PR branch creates a risk that these temporary instructions are accidentally merged into the main branch if the coding agent fails to delete them or if a human merges the PR manually."
suggestion = "Pass instructions via PR comments or build artifacts/summaries rather than committing files to the source tree."
```
